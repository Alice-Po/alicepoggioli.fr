---
import { getCollection } from 'astro:content';
import PageLayout from '@layouts/PageLayout.astro';
import ArrowCard from '@components/ArrowCard';
import StackCard from '@components/StackCard.astro';
import { SITE } from '@consts';
import { Image } from 'astro:assets';
import Avatar from './_alice-poggioli-comp.png';

const posts = (await getCollection('blog'))
  .filter((post) => !post.data.draft)
  .sort((a, b) => b.data.date.getTime() - a.data.date.getTime())
  .slice(0, 3);

// const projects = (await getCollection('projects'))
//   .filter((project) => !project.data.draft)
//   .sort((a, b) => b.data.date.getTime() - a.data.date.getTime())
//   .slice(0, 3);

const stack = [
  {
    text: 'Astro',
    icon: 'astro',
    href: 'https://astro.build',
  },
  {
    text: 'Javascript',
    icon: 'javascript',
    href: 'https://www.javascript.com',
  },
  {
    text: 'Typescript',
    icon: 'typescript',
    href: 'https://www.typescriptlang.org',
  },
  {
    text: 'Tailwind',
    icon: 'tailwind',
    href: 'https://tailwindcss.com',
  },
];
---

<PageLayout title="Home" description={SITE.DESCRIPTION}>
  <!-- HERO -->
  <section class="relative h-screen w-full">
    <div class="animate absolute h-full w-full flex items-center justify-center">
      <div class="relative w-full h-full flex items-center justify-center">
        <div class="p-5 text-center grid justify-items-center">
          <Image class="h-40 w-40 p-4 rounded-full" src={Avatar} alt="alice's avatar" />
          <p class="animated text-lg md:text-xl lg:text-2xl font-semibold opacity-75 mb-8">
            Bonjour ! Je propose...
          </p>
          <br />
          <p class="animated text-lg md:text-xl lg:text-2xl font-semibold">
            <span class="md:text-xl lg:text-2xl font-semibold opacity-75">Du</span>
            <span class="text-2xl md:text-3xl lg:text-4xl font-bold text-black dark:text-white"
              >developpement web</span
            >
          </p>
          <p class="animated text-lg md:text-xl lg:text-2xl font-semibold">
            <span class="md:text-xl lg:text-2xl font-semibold opacity-75">De l'</span>
            <span class="text-2xl md:text-3xl lg:text-4xl font-bold text-black dark:text-white"
              >animation communautaire</span
            >
          </p>
          <p class="animated text-lg md:text-xl lg:text-2xl font-semibold">
            <span class="md:text-xl lg:text-2xl font-semibold opacity-75">De la </span><span
              class="text-2xl md:text-3xl lg:text-4xl font-bold text-black dark:text-white"
              >transformation numérique</span
            >
          </p>
          <p class="animated text-lg md:text-xl lg:text-2xl font-semibold">
            <span class="md:text-xl lg:text-2xl font-semibold opacity-75">et de la </span><span
              class="text-2xl md:text-3xl lg:text-4xl font-bold text-black dark:text-white"
            >
              sensibilisation à l'IA</span
            >
          </p>
          <p class="animated text-sm md:text-base lg:text-lg opacity-75 mt-8">
            Passionnée de web, je cherche des projets qui soutiennent le vivre ensemble et la
            transition écologique.
          </p>
          <div id="ctaButtons" class="animated flex flex-wrap gap-4 justify-center mt-8">
            <a
              href="/blog"
              class="py-2 px-4 rounded truncate text-xs md:text-sm lg:text-base bg-black dark:bg-white text-white dark:text-black hover:opacity-75 blend"
            >
              Voir mon blog
            </a>
            <a
              href="/experiences"
              class="py-2 px-4 truncate rounded text-xs md:text-sm lg:text-base border border-black/25 dark:border-white/25 hover:bg-black/5 hover:dark:bg-white/15 blend"
            >
              Voir mes expériences professionnelles
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="relative bg-white dark:bg-black">
    <div class="mx-auto max-w-screen-sm p-5 space-y-24 pb-16">
      <!-- About Section -->
      <section class="animate">
        <article>
          <p>
            <b><i>Développeuse web</i></b> et <b><i>animatrice communautaire</i></b> sur des projets
            <b><i>open source</i></b>, j’ai passé trois années sur le terrain à faire de la <b
              ><i>médiation numérique</i></b
            > en milieu rural afin d’<b><i>ancrer mon engagement</i></b> et mes compétences dans le territoire
            dans lequel je vis. J’étudie la façon dont circule l’information au niveau <b
              ><i>ultra-local</i></b
            >, via les <b><i>réseaux sociaux locaux</i></b>, numériques mais surtout physiques. Je
            suis engagée dans de nombreux projets associatifs qui ont tous pour point commun <b
              ><i>le lien social</i></b
            >.
            <p>
              <b><i>Face à l'émergence de l'IA</i></b>, impossible en tant que développeuse de
              passer à côté. Mon expérience en médiation numérique m'amène à questionner les enjeux
              sociaux : <b><i>ne risque-t-on pas d'élargir la fracture numérique ?</i></b> J'effectue
              une veille active et mets cette pratique au service d'organisations qui souhaitent aborder
              le sujet avec discernement afin développer une <b><i>"hygiène de l'IA"</i></b> qui garde
              l'humain à sa juste place afin distinguer les vraies des fausses opportunités et anticiper
              les dérives.
            </p>
            <div class="mt-6 flex justify-center">
              <a
                href="/projects/ia"
                class="py-2 px-4 truncate rounded text-xs md:text-sm lg:text-base border border-black/25 dark:border-white/25 hover:bg-black/5 hover:dark:bg-white/15 blend no-underline"
              >
                Découvrir mes expériences IA
              </a>
            </div>
            <p>
              En développement web, <b><i>j'apprécie les applications simples et légères</i></b> - une
              nécessité en zone rurale où les connexions sont parfois capricieuses. J'aime particulièrement
              soigner l'accessibilité web, souvent négligée, et créer des interfaces fluides. Je travaille
              actuellement avec Astro, Svelte 5, Tailwind, TypeScript et JavaScript. Côté Python, bien
              que débutante, j'ai une affinité pour le traitement de données que je prends plaisir à
              explorer.
            </p>
            <p>
              <b
                ><i>Aujourd'hui, je recherche une expérience en tant que chargée de déploiement</i
                ></b
              >. J'ai l'intuition que ce métier pourrait être un terrain d'épanouissement pour la
              touche-à-tout que je suis : connaissance du terrain, goût et maîtrise de la donnée,
              habiletés techniques et appétence pour les stratégies d'engagement. Je souhaite mettre
              mes compétences là où elles sont utiles et demandées et être au service des
              territoires et de leur transition écologique.
            </p>
          </p>
        </article>

        <!-- Blog Preview Section -->
        <section class="animate">
          <div class="space-y-4">
            <div class="flex justify-between">
              <p class="font-semibold text-black dark:text-white">Posts récents</p>
              <a
                href="/blog"
                class="w-fit col-span-3 group flex gap-1 items-center underline decoration-[.5px] decoration-black/25 dark:decoration-white/50 hover:decoration-black dark:hover:decoration-white text-black dark:text-white underline-offset-2 blend"
              >
                <span
                  class="text-black/75 dark:text-white/75 group-hover:text-black group-hover:dark:text-white blend"
                >
                  Tous les posts
                </span>
              </a>
            </div>
            <ul class="space-y-4">
              {
                posts.map((post) => (
                  <li>
                    <ArrowCard entry={post} />
                  </li>
                ))
              }
            </ul>
          </div>
        </section>

        <!-- Project Preview Section -->
        <!-- <section class="animate">
        <div class="space-y-4">
          <div class="flex justify-between">
            <p class="font-semibold text-black dark:text-white">
              Recent projects
            </p>
            <a href="/projects" class="w-fit col-span-3 group flex gap-1 items-center underline decoration-[.5px] decoration-black/25 dark:decoration-white/50 hover:decoration-black dark:hover:decoration-white text-black dark:text-white underline-offset-2 blend">
              <span class="text-black/75 dark:text-white/75 group-hover:text-black group-hover:dark:text-white blend">
                All projects
              </span>
            </a>
          </div>
          <ul class="space-y-4">
            {projects.map((project) => (
              <li>
                <ArrowCard entry={project} />
              </li>
            ))}
          </ul>
        </div>
      </section> -->

        <!-- Contact Section -->
        <section class="animate" id="contact-form">
          <div>
            <p class="font-semibold text-black dark:text-white">Prenons contact !</p>
            <p>
              Je préfère toujours les rencontres en présentiel. J’habite en Normandie et me déplace
              régulièrement à Paris. Contactez-moi de préférence par mail, et je vous répondrai
              rapidement.
            </p>
            <br />
            <form action="https://formspree.io/f/mjkbnlaz" method="POST">
              <label for="email" class="block font-medium leading-6">Votre email : </label>
              <div class="mt-2">
                <input
                  id="email"
                  name="email"
                  type="email"
                  autocomplete="email"
                  class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"
                />
              </div>
              <div class="col-span-full">
                <label for="message" class="block leading-6">Votre message</label>
                <div class="mt-2">
                  <textarea
                    id="message"
                    name="message"
                    rows="3"
                    class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"
                  ></textarea>
                </div>
              </div>

              <div class="mt-6 flex items-center justify-end gap-x-6">
                <button
                  type="submit"
                  class="rounded-md px-3 py-2 text-sm font-semibold text-black dark:text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 hover:bg-black/5 hover:dark:bg-white/10 border-black/15 dark:border-white/20 transition-colors duration-300 ease-in-out border"
                  >Envoyer</button
                >
              </div>
            </form>
            <!-- <div class="grid grid-cols-4 gap-y-2 mt-4 auto-cols-min">
            {SOCIALS.map(social => (
              <div class="col-span-1 flex items-center gap-1">
                <span class="whitespace-nowrap truncate">
                  {social.NAME}
                </span>
              </div>
              <div class="col-span-3 truncate">
                <a href={social.HREF} target="_blank" class="w-fit col-span-3 group flex gap-1 items-center underline decoration-[.5px] decoration-black/25 dark:decoration-white/50 hover:decoration-black dark:hover:decoration-white text-black dark:text-white underline-offset-2 blend">
                  <span class="text-black/75 dark:text-white/75 group-hover:text-black group-hover:dark:text-white blend">
                    {social.TEXT}
                  </span>
                </a>
              </div>
            ))}
        </div> -->
          </div>

          <!-- Tech Stack Section -->
          <section class="animate">
            <div class="space-y-4">
              <p class="font-semibold text-black dark:text-white">Site web construit avec</p>
              <div class="flex flex-wrap items-center gap-2 mt-5">
                {
                  stack.map((item) => (
                    <StackCard text={item.text} icon={item.icon} href={item.href} />
                  ))
                }
              </div>
            </div>
          </section>
        </section>
      </section>
    </div>
  </div></PageLayout
>
